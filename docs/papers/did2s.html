<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>{did2s}: Two-Stage Difference-in-Differences</title><meta name="next-head-count" content="3"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.0/dist/katex.min.css" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/512c3b3649fb7493.css" as="style"/><link rel="stylesheet" href="/_next/static/css/512c3b3649fb7493.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="data:text/javascript;base64,IWZ1bmN0aW9uKCl7dHJ5IHt2YXIgZD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0O2QucmVtb3ZlKCdsaWdodCcsJ2RhcmsnKTt2YXIgZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKTtpZigic3lzdGVtIj09PWV8fCghZSYmdHJ1ZSkpe3ZhciB0PSIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIixtPXdpbmRvdy5tYXRjaE1lZGlhKHQpO2lmKG0ubWVkaWEhPT10fHxtLm1hdGNoZXMpe2Quc3R5bGUuY29sb3JTY2hlbWUgPSAnZGFyayc7ZC5hZGQoJ2RhcmsnKX1lbHNle2Quc3R5bGUuY29sb3JTY2hlbWUgPSAnbGlnaHQnO2QuYWRkKCdsaWdodCcpfX1lbHNlIGlmKGUpe2QuYWRkKGV8fCAnJyl9aWYoZT09PSdsaWdodCd8fGU9PT0nZGFyaycpZC5zdHlsZS5jb2xvclNjaGVtZT1lfWNhdGNoKGUpe319KCk=" id="next-themes-script" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-5761f3a204ffdf4a.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-c586b89e07064d4a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c325fd62e8788c23.js" defer=""></script><script src="/_next/static/chunks/ea88be26-4785f7f12099037b.js" defer=""></script><script src="/_next/static/chunks/131-929d4361130c69bf.js" defer=""></script><script src="/_next/static/chunks/836-d5aa02fc8fe4cc8b.js" defer=""></script><script src="/_next/static/chunks/807-531bfdf8065b1340.js" defer=""></script><script src="/_next/static/chunks/23-853a48d898974c33.js" defer=""></script><script src="/_next/static/chunks/pages/papers/%5Bslug%5D-0789d34005c913fd.js" defer=""></script><script src="/_next/static/p9bM533tbr1Rp48ycXbj8/_buildManifest.js" defer=""></script><script src="/_next/static/p9bM533tbr1Rp48ycXbj8/_ssgManifest.js" defer=""></script><script src="/_next/static/p9bM533tbr1Rp48ycXbj8/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,300;0,700;0,800;1,300&family=Permanent+Marker&display=swap">@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VflOT.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8yK1jPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8lqxjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8L6tjPg.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbY2o-flEEny0FZhsfKu5WU4zr3E_BX0PnT8RD8SKtjPg.woff) format('woff')}@font-face{font-family:'Permanent Marker';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/permanentmarker/v16/Fh4uPib9Iyv2ucM6pGQMWimMp004Hak.woff) format('woff')}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VfmOamaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VfmOTmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VfmOUmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VfmOYmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VfmOZmaSxggPBcV-2Lg.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDba2o-flEEny0FZhsfKu5WU4xD-IQ-PuZJJXxfpAO_VfmOXmaSxggPBcV8.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD2OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD_OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD4OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD0OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD1OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD7OwGtT0rU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD2OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD_OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD4OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD0OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD1OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD7OwGtT0rU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD2OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD_OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD4OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD0OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD1OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD7OwGtT0rU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD2OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD_OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD4OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD0OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD1OwGtT0rU3BE.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'JetBrains Mono';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/jetbrainsmono/v12/tDbV2o-flEEny0FZhsfKu5WU4xD7OwGtT0rU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Permanent Marker';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/permanentmarker/v16/Fh4uPib9Iyv2ucM6pGQMWimMp004La2Cf5b6jlg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="transition-all duration-300"><div id="__next" data-reactroot=""><div class="min-h-screen w-full bg-mine-shaft-100 font-jetbrains text-mine-shaft-900 dark:bg-mine-shaft-900 dark:text-mine-shaft-50"><div class="pt-size-xs prose:pt-size-lg-xl pb-size-2xl"><div class="sc-f20bd316-0 fDmzaf text-mine-shaft-800 dark:text-mine-shaft-100 my-size-md text-md my-size-sm"><nav class="flex w-full flex-row prose:flex-col justify-between gap-size-2xs pb-size-2xs border-b-[1px] border-mine-shaft-800 dark:border-mine-shaft-100"><h1 class="text-size-1 font-bold tracking-tight"><a href="/">Kyle Butts</a></h1><div class="flex items-end justify-between"><ul class="gap-x-size-xs-sm hidden prose:flex text-size-0 font-light"><li class="relative"><a href="/papers">Papers</a></li><li class="relative"><a href="/open-source">Open Source</a></li><li class="relative"><a href="/teaching">Teaching</a></li><li class="relative"><a href="/blog">Blog</a></li></ul><div class="flex items-center prose:items-end gap-size-3xs"><button class=""><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-alice-400 hover:text-alice-500" viewBox="0 0 50 50"><path d="M 43.81 29.354 C 43.688 28.958 43.413 28.626 43.046 28.432 C 42.679 28.238 42.251 28.198 41.854 28.321 C 36.161 29.886 30.067 28.272 25.894 24.096 C 21.722 19.92 20.113 13.824 21.683 8.133 C 21.848 7.582 21.697 6.985 21.29 6.578 C 20.884 6.172 20.287 6.022 19.736 6.187 C 10.659 8.728 4.691 17.389 5.55 26.776 C 6.408 36.163 13.847 43.598 23.235 44.451 C 32.622 45.304 41.28 39.332 43.816 30.253 C 43.902 29.96 43.9 29.647 43.81 29.354 Z" fill="currentColor"></path></svg></button><div class="relative inline-block text-left"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="h-6 w-6 text-alice-400 hover:text-alice-500" type="button" id="" aria-haspopup="menu" data-state="closed"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></div></div></div></nav></div><div style="opacity:0;transform:translateY(20px) translateZ(0)"><div class="sc-f20bd316-0 fDmzaf text-mine-shaft-800 dark:text-mine-shaft-100 my-size-md "><h2 class="tracking-tightest font-white dark:font-mine-shaft-900 text-size-1 font-bold">{did2s}: Two-Stage Difference-in-Differences</h2><h3 class="mt-size-2xs text-size-0">R&R at <i>R Journal</i></h3><div class="text-md mt-size-sm flex flex-col gap-y-size-2xs lg:flex-row lg:gap-y-0 lg:gap-x-size-sm"><div><p class="text-size-0"><a href="https://kylebutts.com" class="underline decoration-alice-500">Kyle Butts</a></p><p class="text-size--1">CU Boulder</p></div><div><p class="text-size-0"><a href="https://jrgcmu.github.io/" class="underline decoration-alice-500">John Gardner</a></p><p class="text-size--1">University of Mississippi</p></div></div><div class="mt-size-md flex flex-wrap gap-x-size-xs gap-y-size-xs"><button class="cursor-pointer border-2 border-alice-800 bg-alice-50 px-size-2xs py-size-3xs text-size-0 dark:border-mine-shaft-600 dark:bg-mine-shaft-700"><span class="text-alice-500 dark:text-mine-shaft-200">ArXiv</span></button><button class="cursor-pointer border-2 border-alice-800 bg-alice-50 px-size-2xs py-size-3xs text-size-0 dark:border-mine-shaft-600 dark:bg-mine-shaft-700"><span class="text-alice-500 dark:text-mine-shaft-200">Slides</span></button></div></div></div><div style="opacity:0;transform:translateY(20px) translateZ(0)"><div class="sc-f20bd316-0 fDmzaf text-mine-shaft-800 dark:text-mine-shaft-100 flow my-size-md mt-size-2xl pb-48"><h2 class="font-bold tracking-wide text-kelly-500 dark:text-kelly-400 ">Abstract</h2>
<p class="text-size-0 ">Recent work has highlighted the difficulties of estimating difference-in-differences models when treatment timing occurs at different times for different units. This article introduces the R package <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">{did2s}</code> which implements the estimator introduced in <a class="italic underline decoration-2 decoration-alice-400 hover:decoration-alice-500 undefined" href="https://jrgcmu.github.io/2sdd_current.pdf" target="_blank" rel="noopener noreferrer">Gardner (2021)</a>. The article provides an approachable review of the underlying econometric theory and introduces the syntax for the function <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">did2s</code>. Further, the package introduces a function, <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">event_study</code>, that provides a common syntax for all the modern event-study estimators and plot_event_study to plot the results of each estimator.</p>
<h2 class="font-bold tracking-wide text-kelly-500 dark:text-kelly-400 ">5-Minute Summary</h2>
<p class="text-size-0 ">The standard difference-in-differences estimator is modeled using the <span class="text-kelly-500 undefined">Two-way Fixed Effects Model</span>. Unit <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span></span> and time <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord mathnormal">t</span></span></span></span></span> has potential outcome:</p>
<div class="math math-display text-lg"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>μ</mi><mi>i</mi></msub><mo>+</mo><msub><mi>η</mi><mi>t</mi></msub><mo>+</mo><mi>τ</mi><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">y_{it} = \mu_i + \eta_t + \tau D_{it} + \varepsilon_{it},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></div>
<p class="text-size-0 ">where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is an idicator variable that equals one when unit <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span></span> is currently experiencing treatment at time <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord mathnormal">t</span></span></span></span></span>. Researchers aim to estimate the effects of treatmnet and summarize it as the <span class="rounded-[5px] py-[3px] px-[5px] text-mine-shaft-100 bg-ruby-500 undefined">Average Treatment Effect on the Treatment</span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span></span></span></span>.</p>
<p class="text-size-0 "><em>If the two-way fixed effects model is correctly specified and the parallel trends assumption is satisfied, then OLS is fine and even BLUE! (woohoo 🎉🎉)</em> So what&#x27;s with all these new Diff-in-Diff doesn&#x27;t work well problems?</p>
<h3 class="underline decoration-2 decoration-mine-shaft-400 ">Problem 1: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span></span></span></span> is not constant</h3>
<p class="text-size-0 ">The first problem is that <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span></span></span></span> is not typically constant across units and over time:</p>
<ul class="list-disc pl-[1.625em] marker:text-alice-400 lg:pl-[1.5555556em]">
<li>
<p class="text-size-0 ">Treatment effects may depend on when you start treatment. For example, groups that benefit more from a policy implement it earlier</p>
</li>
<li>
<p class="text-size-0 ">Treatment effects may depend on treatment duration like an event-study. For example, policy effects slowly take hold as the policy is adopted broadly.</p>
</li>
</ul>
<p class="text-size-0 ">Our TWFE model clearly needs to be enriched:</p>
<div class="math math-display text-lg"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>μ</mi><mi>i</mi></msub><mo>+</mo><msub><mi>η</mi><mi>t</mi></msub><mo>+</mo><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">y_{it} = \mu_i + \eta_t + \tau_{gt} D_{it} + \varepsilon_{it},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></div>
<p class="text-size-0 ">where now we have what the literature calls the <span class="rounded-[5px] py-[3px] px-[5px] text-mine-shaft-100 bg-ruby-500 undefined">Group-Time Average Treatment Effect</span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>. This captures the two forms of treatment effect heterogeneity described above. The treatment effect size to depend on when you are treated, group <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span></span></span></span>, and how many periods it has been since treatment determined by <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">t − g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6984em;vertical-align:-0.0833em"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span></span></span></span>. It will prove really hard to accurately estimate any particular <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, so researchers will try to estimate the <span class="rounded-[5px] py-[3px] px-[5px] text-mine-shaft-100 bg-coral-500 undefined">Overall Average Treatment Effect</span>:</p>
<div class="math math-display text-lg"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>τ</mi><mo>≡</mo><mfrac><mn>1</mn><msub><mi>N</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mfrac><mo>∑</mo><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\tau \equiv \frac{1}{N_{gt}}\sum \tau_{gt},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4637em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.2935em;vertical-align:-0.9721em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-symbol large-op" style="position:relative;top:0em">∑</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></div>
<p class="text-size-0 ">the average of <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> across all <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>g</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(g,t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></span> observed in the sample.</p>
<h3 class="underline decoration-2 decoration-mine-shaft-400 ">Estimating Overall Average Treatment Effect</h3>
<p class="text-size-0 ">If we knew <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mu_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>η</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\eta_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, then we could move terms around in our model
and have:</p>
<div class="math math-display text-lg"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>i</mi></msub><mo>−</mo><msub><mi>η</mi><mi>t</mi></msub><mo>=</mo><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">y_{it} - \mu_i - \eta_t = \tau_{gt} D_{it} + \varepsilon_{it}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></div>
<p class="text-size-0 ">Then, if we ran this regression of an outcome variable (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>μ</mi><mi>i</mi></msub><mo>−</mo><msub><mi>η</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">y_{it} - \mu_i - \eta_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>) on an indicator variable <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, then OLS algebra says that <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>τ</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{\tau}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span></span></span></span></span></span></span></span> will take the average of <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> for us and estimate the overall average treatment effect <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span></span></span></span>.</p>
<p class="text-size-0 ">Too bad we don&#x27;t know <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mu_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>η</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\eta_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>... Since we don&#x27;t know them, why don&#x27;t we instead estimate them? From the Frisch-Waugh-Lovell (FWL) theorem, we have:</p>
<div class="math math-display text-lg"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mover accent="true"><mi>μ</mi><mo>^</mo></mover><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>η</mi><mo>^</mo></mover><mi>t</mi></msub><mo>=</mo><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub><msub><mover accent="true"><mi>D</mi><mo>~</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">y_{it} - \hat{\mu}_i - \hat{\eta}_t = \tau_{gt} \tilde{D}_{it} + \varepsilon_{it},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">η</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2063em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></div>
<p class="text-size-0 ">where everything looks about the same, but now <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>μ</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat{\mu}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>η</mi><mo>^</mo></mover><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\hat{\eta}_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">η</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> are estimated and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>D</mi><mo>~</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tilde{D}_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the treatment indicator after being residualized by unit and time fixed effects. The left-hand side is a good estimate for <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, so what&#x27;s the problem then? This residualized treatment variable is actually the source of <em>all</em> the problems you&#x27;ve heard about. No really, go look at the proofs in those papers, you&#x27;ll see <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>D</mi><mo>~</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tilde{D}_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> right away.</p>
<p class="text-size-0 "><strong>The problem is that since <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>D</mi><mo>~</mo></mover><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tilde{D}_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is no longer a simple dummy variable, OLS no longer estimates the simple average of <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\tau_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>.</strong></p>
<p class="text-size-0 ">Instead, OLS estimates</p>
<div class="math math-display text-lg"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>τ</mi><mo>^</mo></mover><mo>=</mo><mo>∑</mo><msub><mi>w</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub><msub><mi>τ</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub><mo mathvariant="normal">≠</mo><mi>τ</mi><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\hat{\tau} = \sum w_{gt} \tau_{gt} \neq \tau,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.6em;vertical-align:-0.55em"></span><span class="mop op-symbol large-op" style="position:relative;top:0em">∑</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1132em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="mpunct">,</span></span></span></span></span></div>
<p class="text-size-0 ">where the weights <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mrow><mi>g</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">w_{gt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> are quite strange, but sum to 1. I&#x27;ll leave it to the paper to describe the weights, but no this: In some cases, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>τ</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{\tau}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span></span></span></span></span></span></span></span> can be the opposite sign of the overall average treatment effect, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span></span></span></span> 🚩🚩!</p>
<p class="text-size-0 ">Okay, so why don’t you just regress <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mover accent="true"><mi>μ</mi><mo>^</mo></mover><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>η</mi><mo>^</mo></mover><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">y_{it} - \hat{\mu}_i - \hat{\eta}_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">η</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> on <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>? Great idea! You just thought of the two-stage difference-in-differences estimator (and Borusyak et. al.&#x27;s estimator too)</p>
<h3 class="underline decoration-2 decoration-mine-shaft-400 ">Two-stage Difference-in-Differences estimator</h3>
<p class="text-size-0 ">The above intution (hopefully) has lead us directly to the two-stage differences estimator as proposed by <a class="italic underline decoration-2 decoration-alice-400 hover:decoration-alice-500 undefined" href="" target="_blank" rel="noopener noreferrer">Gardner (2021)</a>. The two stages are as follows:</p>
<ul class="list-disc pl-[1.625em] marker:text-alice-400 lg:pl-[1.5555556em]">
<li>
<p class="text-size-0 "><em>Stage 1:</em> Estimate <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mu_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>η</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\eta_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> using untreated/not-yet-treated
observations (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">D_{it} = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></span>). Don&#x27;t include <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">D_{it} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span> since the treatment
effects will be partially absorbed by unit and time fixed effects.</p>
</li>
<li>
<p class="text-size-0 "><em>Stage 2:</em> Regress <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mover accent="true"><mi>μ</mi><mo>^</mo></mover><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>η</mi><mo>^</mo></mover><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">y_{it} - \hat{\mu}_i - \hat{\eta}_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2222em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">η</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1944em"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> on <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">D_{it}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, not <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>D</mi><mrow><mi>i</mi><mi>t</mi></mrow></msub><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{D_{it}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9202em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span><span style="top:-3.6023em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">~</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>!.</p>
</li>
</ul>
<p class="text-size-0 ">Inference is a bit more complicated in this two-step estimator since your &quot;outcome variable&quot; is a noisy estimated object. Valid inference needs to account for this first-stage estimation. The details are in the paper and done properly in the <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">{did2s}</code> package.</p>
<h3 class="underline decoration-2 decoration-mine-shaft-400 "><code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">{did2s}</code></h3>
<p class="text-size-0 ">The paper then goes on to show off the <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">{did2s}</code> package and provide some practical advice when implementing the estimator. For example, we will show how <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">{did2s}</code> works for a dataset of simulated data with a treatment effect of 2.</p>
<!-- -->
<div class="wide-bleed max-w-[1480px] mx-auto relative group border-mine-shaft-600 bg-mine-shaft-50 dark:bg-mine-shaft-700 dark:shadow-none  "><h2 class="text-center text-xl font-bold"></h2><div class="absolute top-4 right-4 hidden flex-row space-x-2 group-hover:flex"><code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] text-center">Output</code><div class="flex cursor-pointer items-center justify-center rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-center text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7]"><div style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></div></div></div><pre class="md:w-prose w-full text-lg font-normal leading-[2] md:max-w-prose "><code>Running Two-stage Difference-in-Differences
• first stage formula `~ 0 | unit + year`
• second stage formula `~ i(treat, ref = FALSE)`
• The indicator variable that denotes when treatment is on is `treat`
• Standard errors will be clustered by `state`
</code></pre></div>
<p class="text-size-0 ">Since the package returns a <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">fixest</code> object, you can use the suite of exporting tools that <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">fixest</code> provides, like <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">esttable</code> and <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">iplot</code>/<code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">coefplot</code>. This makes, for example, exporting latex tables and event-study plots super simple.</p>
<!-- -->
<div class="wide-bleed max-w-[1480px] mx-auto relative group border-mine-shaft-600 bg-mine-shaft-50 dark:bg-mine-shaft-700 dark:shadow-none  "><h2 class="text-center text-xl font-bold"></h2><div class="absolute top-4 right-4 hidden flex-row space-x-2 group-hover:flex"><code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] text-center">Output</code><div class="flex cursor-pointer items-center justify-center rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-center text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7]"><div style="opacity:0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg></div></div></div><pre class="md:w-prose w-full text-lg font-normal leading-[2] md:max-w-prose "><code>                           static
Dependent Var.:           dep_var
                                 
treat = TRUE    2.025*** (0.0307)
_______________ _________________
S.E. type                  Custom
Observations               31,000
R2                        0.31846
Adj. R2                   0.31846
</code></pre></div>
<p class="text-size-0 ">Alternatively, if we use relative year indicator variables in the second-stage, we estimate event-study type coefficients.</p>
<!-- -->
<p class="text-size-0 ">Then, plutting an event study is super simple with <code class=" rounded-[5px] bg-[#fffaf3] py-[3px] px-[5px] text-[#b4637a] dark:bg-[#2a273f] dark:text-[#c4a7e7] undefined">fixest::coefplot</code>.</p>
<!-- -->
<div class="wide-bleed max-w-[1480px] mx-auto relative group border-mine-shaft-600 bg-mine-shaft-50 dark:bg-mine-shaft-700 dark:shadow-none  "><h2 class="text-center text-xl font-bold"></h2><figure><div class="relative"><img src="/images/did2s.png" alt="Two-stage Difference-in-Differences" class="mb-2 w-full"/></div><figcaption class="text-xl mt-8"><b>Figure:</b> <!-- -->Two-stage Difference-in-Differences</figcaption></figure></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"paper":{"title":"{did2s}: Two-Stage Difference-in-Differences","author":[{"name":"Kyle Butts","url":"https://kylebutts.com","affiliation":"CU Boulder","affiliation_url":null},{"name":"John Gardner","url":"https://jrgcmu.github.io/","affiliation":"University of Mississippi"}],"links":[{"name":"ArXiv","url":"https://arxiv.org/abs/2110.10192"},{"name":"Slides","url":"../slides/did2s_slides.pdf"}],"category":"Working Paper","status":"R\u0026R at \u003ci\u003eR Journal\u003c/i\u003e","display":true,"body":{"raw":"\n## Abstract\n\nRecent work has highlighted the difficulties of estimating difference-in-differences models when treatment timing occurs at different times for different units. This article introduces the R package `{did2s}` which implements the estimator introduced in [Gardner (2021)](https://jrgcmu.github.io/2sdd_current.pdf). The article provides an approachable review of the underlying econometric theory and introduces the syntax for the function `did2s`. Further, the package introduces a function, `event_study`, that provides a common syntax for all the modern event-study estimators and plot_event_study to plot the results of each estimator. \n\n\n## 5-Minute Summary\n\nThe standard difference-in-differences estimator is modeled using the \u003cColor kelly \u003eTwo-way Fixed Effects Model\u003c/Color\u003e. Unit $i$ and time $t$ has potential outcome:\n$$\ny_{it} = \\mu_i + \\eta_t + \\tau D_{it} + \\varepsilon_{it},\n$$\nwhere $D_{it}$ is an idicator variable that equals one when unit $i$ is currently experiencing treatment at time $t$. Researchers aim to estimate the effects of treatmnet and summarize it as the \u003cBg ruby\u003eAverage Treatment Effect on the Treatment\u003c/Bg\u003e, $\\tau$.\n\n*If the two-way fixed effects model is correctly specified and the parallel trends assumption is satisfied, then OLS is fine and even BLUE! (woohoo 🎉🎉)* So what's with all these new Diff-in-Diff doesn't work well problems? \n\n### Problem 1: $\\tau$ is not constant\n\nThe first problem is that $\\tau$ is not typically constant across units and over time:\n\n- Treatment effects may depend on when you start treatment. For example, groups that benefit more from a policy implement it earlier\n\n- Treatment effects may depend on treatment duration like an event-study. For example, policy effects slowly take hold as the policy is adopted broadly.\n\nOur TWFE model clearly needs to be enriched: \n$$\ny_{it} = \\mu_i + \\eta_t + \\tau_{gt} D_{it} + \\varepsilon_{it},\n$$\nwhere now we have what the literature calls the \u003cBg ruby\u003eGroup-Time Average Treatment Effect\u003c/Bg\u003e, $\\tau_{gt}$. This captures the two forms of treatment effect heterogeneity described above. The treatment effect size to depend on when you are treated, group $g$, and how many periods it has been since treatment determined by $t − g$. It will prove really hard to accurately estimate any particular $\\tau_{gt}$, so researchers will try to estimate the \u003cBg coral\u003eOverall Average Treatment Effect\u003c/Bg\u003e:\n$$\n\\tau \\equiv \\frac{1}{N_{gt}}\\sum \\tau_{gt},\n$$\nthe average of $\\tau_{gt}$ across all $(g,t)$ observed in the sample.\n\n### Estimating Overall Average Treatment Effect\n\nIf we knew $\\mu_i$ and $\\eta_t$, then we could move terms around in our model\nand have:\n$$\ny_{it} - \\mu_i - \\eta_t = \\tau_{gt} D_{it} + \\varepsilon_{it}.\n$$\nThen, if we ran this regression of an outcome variable ($y_{it} - \\mu_i - \\eta_t$) on an indicator variable $D_{it}$, then OLS algebra says that $\\hat{\\tau}$ will take the average of $\\tau_{gt}$ for us and estimate the overall average treatment effect $\\tau$.\n\nToo bad we don't know $\\mu_i$ and $\\eta_t$... Since we don't know them, why don't we instead estimate them? From the Frisch-Waugh-Lovell (FWL) theorem, we have:\n$$\ny_{it} - \\hat{\\mu}_i - \\hat{\\eta}_t = \\tau_{gt} \\tilde{D}_{it} + \\varepsilon_{it},\n$$\nwhere everything looks about the same, but now $\\hat{\\mu}_i$ and $\\hat{\\eta}_t$ are estimated and $\\tilde{D}_{it}$ is the treatment indicator after being residualized by unit and time fixed effects. The left-hand side is a good estimate for $\\tau_{gt}$, so what's the problem then? This residualized treatment variable is actually the source of *all* the problems you've heard about. No really, go look at the proofs in those papers, you'll see $\\tilde{D}_{it}$ right away. \n\n**The problem is that since $\\tilde{D}_{it}$ is no longer a simple dummy variable, OLS no longer estimates the simple average of $\\tau_{gt}$.**\n\nInstead, OLS estimates \n$$\n\\hat{\\tau} = \\sum w_{gt} \\tau_{gt} \\neq \\tau,\n$$\nwhere the weights $w_{gt}$ are quite strange, but sum to 1. I'll leave it to the paper to describe the weights, but no this: In some cases, $\\hat{\\tau}$ can be the opposite sign of the overall average treatment effect, $\\tau$ 🚩🚩! \n\nOkay, so why don’t you just regress $y_{it} - \\hat{\\mu}_i - \\hat{\\eta}_t$ on $D_{it}$? Great idea! You just thought of the two-stage difference-in-differences estimator (and Borusyak et. al.'s estimator too)\n\n### Two-stage Difference-in-Differences estimator\n\nThe above intution (hopefully) has lead us directly to the two-stage differences estimator as proposed by [Gardner (2021)](). The two stages are as follows:\n\n- *Stage 1:* Estimate $\\mu_i$ and $\\eta_t$ using untreated/not-yet-treated\nobservations ($D_{it} = 0$). Don't include $D_{it} = 1$ since the treatment\neffects will be partially absorbed by unit and time fixed effects.\n\n- *Stage 2:* Regress $y_{it} - \\hat{\\mu}_i - \\hat{\\eta}_t$ on $D_{it}$, not $\\tilde{D_{it}}$!.\n\nInference is a bit more complicated in this two-step estimator since your \"outcome variable\" is a noisy estimated object. Valid inference needs to account for this first-stage estimation. The details are in the paper and done properly in the `{did2s}` package. \n\n\n### `{did2s}`\n\nThe paper then goes on to show off the `{did2s}` package and provide some practical advice when implementing the estimator. For example, we will show how `{did2s}` works for a dataset of simulated data with a treatment effect of 2.\n\n```r\nlibrary(did2s) \ndata(\"df_hom\")\n\nstatic = did2s(\n  df_hom,\n  yname = \"dep_var\", treatment = \"treat\", cluster_var = \"state\",\n  first_stage = ~ 0 | unit + year,\n  second_stage = ~ i(treat, ref=FALSE), \n  verbose = TRUE\n)\n```\n```\nRunning Two-stage Difference-in-Differences\n• first stage formula `~ 0 | unit + year`\n• second stage formula `~ i(treat, ref = FALSE)`\n• The indicator variable that denotes when treatment is on is `treat`\n• Standard errors will be clustered by `state`\n```\n\nSince the package returns a `fixest` object, you can use the suite of exporting tools that `fixest` provides, like `esttable` and `iplot`/`coefplot`. This makes, for example, exporting latex tables and event-study plots super simple.\n\n```r\nfixest::etable(static)\n```\n```\n                           static\nDependent Var.:           dep_var\n                                 \ntreat = TRUE    2.025*** (0.0307)\n_______________ _________________\nS.E. type                  Custom\nObservations               31,000\nR2                        0.31846\nAdj. R2                   0.31846\n```\n\nAlternatively, if we use relative year indicator variables in the second-stage, we estimate event-study type coefficients.\n\n```r\ndynamic = did2s(df_hom,\n    yname = \"dep_var\", treatment = \"treat\", cluster_var = \"state\",\n    first_stage = ~ 0 | unit + year,\n    second_stage = ~ i(rel_year, ref=c(-1, Inf)),\n    verbose = FALSE\n  )\n```\n\nThen, plutting an event study is super simple with `fixest::coefplot`.\n\n```r\n# plot rel_year coefficients and standard errors\nfixest::coefplot(dynamic)\n```\n\u003cFigure src=\"/images/did2s.png\" alt=\"Two-stage Difference-in-Differences\" /\u003e\n\n\n\n\n","code":"var Component=(()=\u003e{var o=Object.create;var c=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var u=(a,l)=\u003e()=\u003e(l||a((l={exports:{}}).exports,l),l.exports),w=(a,l)=\u003e{for(var n in l)c(a,n,{get:l[n],enumerable:!0})},h=(a,l,n,s)=\u003e{if(l\u0026\u0026typeof l==\"object\"||typeof l==\"function\")for(let i of g(l))!v.call(a,i)\u0026\u0026i!==n\u0026\u0026c(a,i,{get:()=\u003el[i],enumerable:!(s=N(l,i))||s.enumerable});return a};var f=(a,l,n)=\u003e(n=a!=null?o(y(a)):{},h(l||!a||!a.__esModule?c(n,\"default\",{value:a,enumerable:!0}):n,a)),x=a=\u003eh(c({},\"__esModule\",{value:!0}),a);var p=u((z,d)=\u003e{d.exports=_jsx_runtime});var A={};w(A,{default:()=\u003eR,frontmatter:()=\u003eb});var e=f(p()),b={title:\"{did2s}: Two-Stage Difference-in-Differences\",author:[{name:\"Kyle Butts\",url:\"https://kylebutts.com\",affiliation:\"CU Boulder\",affiliation_url:null},{name:\"John Gardner\",url:\"https://jrgcmu.github.io/\",affiliation:\"University of Mississippi\"}],links:[{name:\"ArXiv\",url:\"https://arxiv.org/abs/2110.10192\"},{name:\"Slides\",url:\"../slides/did2s_slides.pdf\"}],category:\"Working Paper\",status:\"R\u0026R at \u003ci\u003eR Journal\u003c/i\u003e\",display:!0};function E(a={}){let{wrapper:l}=a.components||{};return l?(0,e.jsx)(l,Object.assign({},a,{children:(0,e.jsx)(n,{})})):n();function n(){let s=Object.assign({h2:\"h2\",p:\"p\",code:\"code\",a:\"a\",span:\"span\",math:\"math\",semantics:\"semantics\",mrow:\"mrow\",mi:\"mi\",annotation:\"annotation\",div:\"div\",msub:\"msub\",mo:\"mo\",em:\"em\",h3:\"h3\",ul:\"ul\",li:\"li\",mfrac:\"mfrac\",mn:\"mn\",mover:\"mover\",strong:\"strong\",pre:\"pre\"},a.components),{Color:i,Bg:t,Figure:m}=s;return t||r(\"Bg\",!0,\"32:196-32:251\"),i||r(\"Color\",!0,\"28:71-28:120\"),m||r(\"Figure\",!0,\"150:1-150:77\"),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.h2,{children:\"Abstract\"}),`\n`,(0,e.jsxs)(s.p,{children:[\"Recent work has highlighted the difficulties of estimating difference-in-differences models when treatment timing occurs at different times for different units. This article introduces the R package \",(0,e.jsx)(s.code,{children:\"{did2s}\"}),\" which implements the estimator introduced in \",(0,e.jsx)(s.a,{href:\"https://jrgcmu.github.io/2sdd_current.pdf\",children:\"Gardner (2021)\"}),\". The article provides an approachable review of the underlying econometric theory and introduces the syntax for the function \",(0,e.jsx)(s.code,{children:\"did2s\"}),\". Further, the package introduces a function, \",(0,e.jsx)(s.code,{children:\"event_study\"}),\", that provides a common syntax for all the modern event-study estimators and plot_event_study to plot the results of each estimator.\"]}),`\n`,(0,e.jsx)(s.h2,{children:\"5-Minute Summary\"}),`\n`,(0,e.jsxs)(s.p,{children:[\"The standard difference-in-differences estimator is modeled using the \",(0,e.jsx)(i,{kelly:!0,children:\"Two-way Fixed Effects Model\"}),\". Unit \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"i\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"i\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6595em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"i\"})]})})]})}),\" and time \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"t\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"t\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6151em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"t\"})]})})]})}),\" has potential outcome:\"]}),`\n`,(0,e.jsx)(s.div,{className:\"math math-display\",children:(0,e.jsx)(s.span,{className:\"katex-display\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B5\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{separator:\"true\",children:\",\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} = \\\\mu_i + \\\\eta_t + \\\\tau D_{it} + \\\\varepsilon_{it},\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03B5\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mpunct\",children:\",\"})]})]})]})})}),`\n`,(0,e.jsxs)(s.p,{children:[\"where \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"D_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" is an idicator variable that equals one when unit \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"i\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"i\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6595em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"i\"})]})})]})}),\" is currently experiencing treatment at time \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"t\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"t\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6151em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"t\"})]})})]})}),\". Researchers aim to estimate the effects of treatmnet and summarize it as the \",(0,e.jsx)(t,{ruby:!0,children:\"Average Treatment Effect on the Treatment\"}),\", \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"\\u03C4\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]})})]})}),\".\"]}),`\n`,(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.em,{children:\"If the two-way fixed effects model is correctly specified and the parallel trends assumption is satisfied, then OLS is fine and even BLUE! (woohoo \\u{1F389}\\u{1F389})\"}),\" So what's with all these new Diff-in-Diff doesn't work well problems?\"]}),`\n`,(0,e.jsxs)(s.h3,{children:[\"Problem 1: \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"\\u03C4\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]})})]})}),\" is not constant\"]}),`\n`,(0,e.jsxs)(s.p,{children:[\"The first problem is that \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"\\u03C4\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]})})]})}),\" is not typically constant across units and over time:\"]}),`\n`,(0,e.jsxs)(s.ul,{children:[`\n`,(0,e.jsxs)(s.li,{children:[`\n`,(0,e.jsx)(s.p,{children:\"Treatment effects may depend on when you start treatment. For example, groups that benefit more from a policy implement it earlier\"}),`\n`]}),`\n`,(0,e.jsxs)(s.li,{children:[`\n`,(0,e.jsx)(s.p,{children:\"Treatment effects may depend on treatment duration like an event-study. For example, policy effects slowly take hold as the policy is adopted broadly.\"}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(s.p,{children:\"Our TWFE model clearly needs to be enriched:\"}),`\n`,(0,e.jsx)(s.div,{className:\"math math-display\",children:(0,e.jsx)(s.span,{className:\"katex-display\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B5\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{separator:\"true\",children:\",\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} = \\\\mu_i + \\\\eta_t + \\\\tau_{gt} D_{it} + \\\\varepsilon_{it},\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.9694em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03B5\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mpunct\",children:\",\"})]})]})]})})}),`\n`,(0,e.jsxs)(s.p,{children:[\"where now we have what the literature calls the \",(0,e.jsx)(t,{ruby:!0,children:\"Group-Time Average Treatment Effect\"}),\", \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\". This captures the two forms of treatment effect heterogeneity described above. The treatment effect size to depend on when you are treated, group \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"g\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"g\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"g\"})]})})]})}),\", and how many periods it has been since treatment determined by \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"t\"}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsx)(s.mi,{children:\"g\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"t \\u2212 g\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6984em\",verticalAlign:\"-0.0833em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"t\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"g\"})]})]})]})}),\". It will prove really hard to accurately estimate any particular \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\", so researchers will try to estimate the \",(0,e.jsx)(t,{coral:!0,children:\"Overall Average Treatment Effect\"}),\":\"]}),`\n`,(0,e.jsx)(s.div,{className:\"math math-display\",children:(0,e.jsx)(s.span,{className:\"katex-display\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsx)(s.mo,{children:\"\\u2261\"}),(0,e.jsxs)(s.mfrac,{children:[(0,e.jsx)(s.mn,{children:\"1\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"N\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})]}),(0,e.jsx)(s.mo,{children:\"\\u2211\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{separator:\"true\",children:\",\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau \\\\equiv \\\\frac{1}{N_{gt}}\\\\sum \\\\tau_{gt},\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.4637em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"\\u2261\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"2.2935em\",verticalAlign:\"-0.9721em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mopen nulldelimiter\"}),(0,e.jsx)(s.span,{className:\"mfrac\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"1.3214em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-2.314em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord\",children:(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.10903em\"},children:\"N\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.109em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.23em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"frac-line\",style:{borderBottomWidth:\"0.04em\"}})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.677em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord\",children:(0,e.jsx)(s.span,{className:\"mord\",children:\"1\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.9721em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"mclose nulldelimiter\"})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.1667em\"}}),(0,e.jsx)(s.span,{className:\"mop op-symbol large-op\",style:{position:\"relative\",top:\"0em\"},children:\"\\u2211\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.1667em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mpunct\",children:\",\"})]})]})]})})}),`\n`,(0,e.jsxs)(s.p,{children:[\"the average of \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" across all \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mo,{stretchy:\"false\",children:\"(\"}),(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mo,{separator:\"true\",children:\",\"}),(0,e.jsx)(s.mi,{children:\"t\"}),(0,e.jsx)(s.mo,{stretchy:\"false\",children:\")\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"(g,t)\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1em\",verticalAlign:\"-0.25em\"}}),(0,e.jsx)(s.span,{className:\"mopen\",children:\"(\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mpunct\",children:\",\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.1667em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"t\"}),(0,e.jsx)(s.span,{className:\"mclose\",children:\")\"})]})})]})}),\" observed in the sample.\"]}),`\n`,(0,e.jsx)(s.h3,{children:\"Estimating Overall Average Treatment Effect\"}),`\n`,(0,e.jsxs)(s.p,{children:[\"If we knew \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\mu_i\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" and \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\eta_t\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),`, then we could move terms around in our model\nand have:`]}),`\n`,(0,e.jsx)(s.div,{className:\"math math-display\",children:(0,e.jsx)(s.span,{className:\"katex-display\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B5\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mi,{mathvariant:\"normal\",children:\".\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} - \\\\mu_i - \\\\eta_t = \\\\tau_{gt} D_{it} + \\\\varepsilon_{it}.\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.9694em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.5806em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03B5\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mord\",children:\".\"})]})]})]})})}),`\n`,(0,e.jsxs)(s.p,{children:[\"Then, if we ran this regression of an outcome variable (\",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} - \\\\mu_i - \\\\eta_t\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})]})]})}),\") on an indicator variable \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"D_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\", then OLS algebra says that \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsx)(s.mo,{children:\"^\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\hat{\\\\tau}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6944em\"}}),(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]})})})})]})})]})}),\" will take the average of \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" for us and estimate the overall average treatment effect \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"\\u03C4\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]})})]})}),\".\"]}),`\n`,(0,e.jsxs)(s.p,{children:[\"Too bad we don't know \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\mu_i\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" and \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\eta_t\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\"... Since we don't know them, why don't we instead estimate them? From the Frisch-Waugh-Lovell (FWL) theorem, we have:\"]}),`\n`,(0,e.jsx)(s.div,{className:\"math math-display\",children:(0,e.jsx)(s.span,{className:\"katex-display\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"t\"})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsx)(s.mo,{children:\"~\"})]}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"+\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B5\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{separator:\"true\",children:\",\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} - \\\\hat{\\\\mu}_i - \\\\hat{\\\\eta}_t = \\\\tau_{gt} \\\\tilde{D}_{it} + \\\\varepsilon_{it},\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1.2063em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.9202em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.6023em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"~\"})})]})]})})})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"+\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03B5\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mpunct\",children:\",\"})]})]})]})})}),`\n`,(0,e.jsxs)(s.p,{children:[\"where everything looks about the same, but now \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"i\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\hat{\\\\mu}_i\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" and \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"t\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\hat{\\\\eta}_t\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" are estimated and \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsx)(s.mo,{children:\"~\"})]}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tilde{D}_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1.0702em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.9202em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.6023em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"~\"})})]})]})})})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" is the treatment indicator after being residualized by unit and time fixed effects. The left-hand side is a good estimate for \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\", so what's the problem then? This residualized treatment variable is actually the source of \",(0,e.jsx)(s.em,{children:\"all\"}),\" the problems you've heard about. No really, go look at the proofs in those papers, you'll see \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsx)(s.mo,{children:\"~\"})]}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tilde{D}_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1.0702em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.9202em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.6023em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"~\"})})]})]})})})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" right away.\"]}),`\n`,(0,e.jsx)(s.p,{children:(0,e.jsxs)(s.strong,{children:[\"The problem is that since \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsx)(s.mo,{children:\"~\"})]}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tilde{D}_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1.0702em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.9202em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.6023em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"~\"})})]})]})})})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" is no longer a simple dummy variable, OLS no longer estimates the simple average of \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\".\"]})}),`\n`,(0,e.jsx)(s.p,{children:\"Instead, OLS estimates\"}),`\n`,(0,e.jsx)(s.div,{className:\"math math-display\",children:(0,e.jsx)(s.span,{className:\"katex-display\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",display:\"block\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsx)(s.mo,{children:\"\\u2211\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"w\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{mathvariant:\"normal\",children:\"\\u2260\"}),(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsx)(s.mo,{separator:\"true\",children:\",\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\hat{\\\\tau} = \\\\sum w_{gt} \\\\tau_{gt} \\\\neq \\\\tau,\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6944em\"}}),(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]})})})}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1.6em\",verticalAlign:\"-0.55em\"}}),(0,e.jsx)(s.span,{className:\"mop op-symbol large-op\",style:{position:\"relative\",top:\"0em\"},children:\"\\u2211\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.1667em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02691em\"},children:\"w\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0269em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.1132em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsxs)(s.span,{className:\"mrel\",children:[(0,e.jsx)(s.span,{className:\"mrel\",children:(0,e.jsx)(s.span,{className:\"mord vbox\",children:(0,e.jsx)(s.span,{className:\"thinbox\",children:(0,e.jsxs)(s.span,{className:\"rlap\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsx)(s.span,{className:\"inner\",children:(0,e.jsx)(s.span,{className:\"mord\",children:(0,e.jsx)(s.span,{className:\"mrel\",children:\"\\uE020\"})})}),(0,e.jsx)(s.span,{className:\"fix\"})]})})})}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"}),(0,e.jsx)(s.span,{className:\"mpunct\",children:\",\"})]})]})]})})}),`\n`,(0,e.jsxs)(s.p,{children:[\"where the weights \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"w\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"g\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"w_{gt}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7167em\",verticalAlign:\"-0.2861em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02691em\"},children:\"w\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0269em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",style:{marginRight:\"0.03588em\"},children:\"g\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2861em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" are quite strange, but sum to 1. I'll leave it to the paper to describe the weights, but no this: In some cases, \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03C4\"}),(0,e.jsx)(s.mo,{children:\"^\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\hat{\\\\tau}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6944em\"}}),(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsx)(s.span,{className:\"vlist-t\",children:(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]})})})})]})})]})}),\" can be the opposite sign of the overall average treatment effect, \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsx)(s.mi,{children:\"\\u03C4\"})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tau\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.4306em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.1132em\"},children:\"\\u03C4\"})]})})]})}),\" \\u{1F6A9}\\u{1F6A9}!\"]}),`\n`,(0,e.jsxs)(s.p,{children:[\"Okay, so why don\\u2019t you just regress \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} - \\\\hat{\\\\mu}_i - \\\\hat{\\\\eta}_t\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})]})]})}),\" on \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"D_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\"? Great idea! You just thought of the two-stage difference-in-differences estimator (and Borusyak et. al.'s estimator too)\"]}),`\n`,(0,e.jsx)(s.h3,{children:\"Two-stage Difference-in-Differences estimator\"}),`\n`,(0,e.jsxs)(s.p,{children:[\"The above intution (hopefully) has lead us directly to the two-stage differences estimator as proposed by \",(0,e.jsx)(s.a,{href:\"\",children:\"Gardner (2021)\"}),\". The two stages are as follows:\"]}),`\n`,(0,e.jsxs)(s.ul,{children:[`\n`,(0,e.jsxs)(s.li,{children:[`\n`,(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.em,{children:\"Stage 1:\"}),\" Estimate \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mi,{children:\"i\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\mu_i\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\" and \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\eta_t\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.625em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),` using untreated/not-yet-treated\nobservations (`,(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsx)(s.mn,{children:\"0\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"D_{it} = 0\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6444em\"}}),(0,e.jsx)(s.span,{className:\"mord\",children:\"0\"})]})]})]})}),\"). Don't include \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"=\"}),(0,e.jsx)(s.mn,{children:\"1\"})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"D_{it} = 1\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}}),(0,e.jsx)(s.span,{className:\"mrel\",children:\"=\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2778em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.6444em\"}}),(0,e.jsx)(s.span,{className:\"mord\",children:\"1\"})]})]})]})}),` since the treatment\neffects will be partially absorbed by unit and time fixed effects.`]}),`\n`]}),`\n`,(0,e.jsxs)(s.li,{children:[`\n`,(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.em,{children:\"Stage 2:\"}),\" Regress \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsxs)(s.mrow,{children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"y\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03BC\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"i\"})]}),(0,e.jsx)(s.mo,{children:\"\\u2212\"}),(0,e.jsxs)(s.msub,{children:[(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsx)(s.mi,{children:\"\\u03B7\"}),(0,e.jsx)(s.mo,{children:\"^\"})]}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"y_{it} - \\\\hat{\\\\mu}_i - \\\\hat{\\\\eta}_t\"})]})})}),(0,e.jsxs)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.7778em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"y\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",children:\"\\u03BC\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.2222em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"0em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}}),(0,e.jsx)(s.span,{className:\"mbin\",children:\"\\u2212\"}),(0,e.jsx)(s.span,{className:\"mspace\",style:{marginRight:\"0.2222em\"}})]}),(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8889em\",verticalAlign:\"-0.1944em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.6944em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.03588em\"},children:\"\\u03B7\"})]}),(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.1944em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"^\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.1944em\"},children:(0,e.jsx)(s.span,{})})})]})}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.2806em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0359em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})]})]})}),\" on \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"D_{it}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"0.8333em\",verticalAlign:\"-0.15em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]})})]})}),\", not \",(0,e.jsx)(s.span,{className:\"math math-inline\",children:(0,e.jsxs)(s.span,{className:\"katex\",children:[(0,e.jsx)(s.span,{className:\"katex-mathml\",children:(0,e.jsx)(s.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,e.jsxs)(s.semantics,{children:[(0,e.jsx)(s.mrow,{children:(0,e.jsxs)(s.mover,{accent:\"true\",children:[(0,e.jsxs)(s.msub,{children:[(0,e.jsx)(s.mi,{children:\"D\"}),(0,e.jsxs)(s.mrow,{children:[(0,e.jsx)(s.mi,{children:\"i\"}),(0,e.jsx)(s.mi,{children:\"t\"})]})]}),(0,e.jsx)(s.mo,{children:\"~\"})]})}),(0,e.jsx)(s.annotation,{encoding:\"application/x-tex\",children:\"\\\\tilde{D_{it}}\"})]})})}),(0,e.jsx)(s.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:(0,e.jsxs)(s.span,{className:\"base\",children:[(0,e.jsx)(s.span,{className:\"strut\",style:{height:\"1.0702em\",verticalAlign:\"-0.15em\"}}),(0,e.jsx)(s.span,{className:\"mord accent\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsxs)(s.span,{className:\"vlist\",style:{height:\"0.9202em\"},children:[(0,e.jsxs)(s.span,{style:{top:\"-3em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsxs)(s.span,{className:\"mord\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal\",style:{marginRight:\"0.02778em\"},children:\"D\"}),(0,e.jsx)(s.span,{className:\"msupsub\",children:(0,e.jsxs)(s.span,{className:\"vlist-t vlist-t2\",children:[(0,e.jsxs)(s.span,{className:\"vlist-r\",children:[(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.3117em\"},children:(0,e.jsxs)(s.span,{style:{top:\"-2.55em\",marginLeft:\"-0.0278em\",marginRight:\"0.05em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"2.7em\"}}),(0,e.jsx)(s.span,{className:\"sizing reset-size6 size3 mtight\",children:(0,e.jsxs)(s.span,{className:\"mord mtight\",children:[(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"i\"}),(0,e.jsx)(s.span,{className:\"mord mathnormal mtight\",children:\"t\"})]})})]})}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})]}),(0,e.jsxs)(s.span,{style:{top:\"-3.6023em\"},children:[(0,e.jsx)(s.span,{className:\"pstrut\",style:{height:\"3em\"}}),(0,e.jsx)(s.span,{className:\"accent-body\",style:{left:\"-0.25em\"},children:(0,e.jsx)(s.span,{className:\"mord\",children:\"~\"})})]})]}),(0,e.jsx)(s.span,{className:\"vlist-s\",children:\"\\u200B\"})]}),(0,e.jsx)(s.span,{className:\"vlist-r\",children:(0,e.jsx)(s.span,{className:\"vlist\",style:{height:\"0.15em\"},children:(0,e.jsx)(s.span,{})})})]})})]})})]})}),\"!.\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(s.p,{children:['Inference is a bit more complicated in this two-step estimator since your \"outcome variable\" is a noisy estimated object. Valid inference needs to account for this first-stage estimation. The details are in the paper and done properly in the ',(0,e.jsx)(s.code,{children:\"{did2s}\"}),\" package.\"]}),`\n`,(0,e.jsx)(s.h3,{children:(0,e.jsx)(s.code,{children:\"{did2s}\"})}),`\n`,(0,e.jsxs)(s.p,{children:[\"The paper then goes on to show off the \",(0,e.jsx)(s.code,{children:\"{did2s}\"}),\" package and provide some practical advice when implementing the estimator. For example, we will show how \",(0,e.jsx)(s.code,{children:\"{did2s}\"}),\" works for a dataset of simulated data with a treatment effect of 2.\"]}),`\n`,(0,e.jsxs)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{\"data-language\":\"r\",\"data-theme\":\"dark\",children:[(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"library\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"did2s\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\") \"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"data\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"df_hom\"'}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\")\"})]}),`\n`,(0,e.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"static\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"did2s\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"(\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"df_hom\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"yname\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"dep_var\"'}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"treatment\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"treat\"'}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"cluster_var\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"state\"'}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"first_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"|\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"unit\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"+\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"year\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"second_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"i\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"treat\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"ref\"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"FALSE\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"),\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"verbose\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"TRUE\"})]}),`\n`,(0,e.jsx)(s.span,{className:\"line\",children:(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\")\"})})]})}),(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{\"data-language\":\"r\",\"data-theme\":\"light\",children:[(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#B4637A\",fontStyle:\"italic\"},children:\"library\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"did2s\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\") \"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#B4637A\",fontStyle:\"italic\"},children:\"data\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"df_hom\"'}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\")\"})]}),`\n`,(0,e.jsx)(s.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"static\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"did2s\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"(\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"df_hom\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"yname\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"dep_var\"'}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"treatment\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"treat\"'}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"cluster_var\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"state\"'}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"first_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"0\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"|\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"unit\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"+\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"year\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"second_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"i\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"treat\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"ref\"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"FALSE\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"),\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"  \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"verbose\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"TRUE\"})]}),`\n`,(0,e.jsx)(s.span,{className:\"line\",children:(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\")\"})})]})})]}),`\n`,(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:\"\",children:\"Running Two-stage Difference-in-Differences\\n\\u2022 first stage formula `~ 0 | unit + year`\\n\\u2022 second stage formula `~ i(treat, ref = FALSE)`\\n\\u2022 The indicator variable that denotes when treatment is on is `treat`\\n\\u2022 Standard errors will be clustered by `state`\\n\"})}),`\n`,(0,e.jsxs)(s.p,{children:[\"Since the package returns a \",(0,e.jsx)(s.code,{children:\"fixest\"}),\" object, you can use the suite of exporting tools that \",(0,e.jsx)(s.code,{children:\"fixest\"}),\" provides, like \",(0,e.jsx)(s.code,{children:\"esttable\"}),\" and \",(0,e.jsx)(s.code,{children:\"iplot\"}),\"/\",(0,e.jsx)(s.code,{children:\"coefplot\"}),\". This makes, for example, exporting latex tables and event-study plots super simple.\"]}),`\n`,(0,e.jsxs)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{\"data-language\":\"r\",\"data-theme\":\"dark\",children:(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"fixest\"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"::\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"etable\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"static\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\")\"})]})})}),(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{\"data-language\":\"r\",\"data-theme\":\"light\",children:(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"fixest\"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"::\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"etable\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"static\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\")\"})]})})})]}),`\n`,(0,e.jsx)(s.pre,{children:(0,e.jsx)(s.code,{className:\"\",children:`                           static\nDependent Var.:           dep_var\n                                 \ntreat = TRUE    2.025*** (0.0307)\n_______________ _________________\nS.E. type                  Custom\nObservations               31,000\nR2                        0.31846\nAdj. R2                   0.31846\n`})}),`\n`,(0,e.jsx)(s.p,{children:\"Alternatively, if we use relative year indicator variables in the second-stage, we estimate event-study type coefficients.\"}),`\n`,(0,e.jsxs)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{\"data-language\":\"r\",\"data-theme\":\"dark\",children:[(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"dynamic\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"did2s\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"df_hom\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"yname\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"dep_var\"'}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"treatment\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"treat\"'}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"cluster_var\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#F6C177\"},children:'\"state\"'}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"first_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"0\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"|\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"unit\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"+\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"year\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"second_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"i\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"rel_year\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"ref\"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#EB6F92\",fontStyle:\"italic\"},children:\"c\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"-\"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"1\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"Inf\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"))\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#C4A7E7\",fontStyle:\"italic\"},children:\"verbose\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9A97\"},children:\"FALSE\"})]}),`\n`,(0,e.jsx)(s.span,{className:\"line\",children:(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"  )\"})})]})}),(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{\"data-language\":\"r\",\"data-theme\":\"light\",children:[(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"dynamic\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"did2s\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"df_hom\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"yname\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"dep_var\"'}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"treatment\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"treat\"'}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"cluster_var\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#EA9D34\"},children:'\"state\"'}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"first_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"0\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"|\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"unit\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"+\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"year\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"second_stage\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"~\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"i\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"rel_year\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"ref\"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#B4637A\",fontStyle:\"italic\"},children:\"c\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"-\"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"1\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\",\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"Inf\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"))\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\",\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"    \"}),(0,e.jsx)(s.span,{style:{color:\"#907AA9\",fontStyle:\"italic\"},children:\"verbose\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"=\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\" \"}),(0,e.jsx)(s.span,{style:{color:\"#D7827E\"},children:\"FALSE\"})]}),`\n`,(0,e.jsx)(s.span,{className:\"line\",children:(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"  )\"})})]})})]}),`\n`,(0,e.jsxs)(s.p,{children:[\"Then, plutting an event study is super simple with \",(0,e.jsx)(s.code,{children:\"fixest::coefplot\"}),\".\"]}),`\n`,(0,e.jsxs)(s.div,{\"data-rehype-pretty-code-fragment\":\"\",children:[(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{\"data-language\":\"r\",\"data-theme\":\"dark\",children:[(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#908CAA\",fontStyle:\"italic\"},children:\"#\"}),(0,e.jsx)(s.span,{style:{color:\"#6E6A86\",fontStyle:\"italic\"},children:\" plot rel_year coefficients and standard errors\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\"},children:\"fixest\"}),(0,e.jsx)(s.span,{style:{color:\"#3E8FB0\"},children:\"::\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"coefplot\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#E0DEF4\",fontStyle:\"italic\"},children:\"dynamic\"}),(0,e.jsx)(s.span,{style:{color:\"#908CAA\"},children:\")\"})]})]})}),(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{\"data-language\":\"r\",\"data-theme\":\"light\",children:[(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#797593\",fontStyle:\"italic\"},children:\"#\"}),(0,e.jsx)(s.span,{style:{color:\"#9893A5\",fontStyle:\"italic\"},children:\" plot rel_year coefficients and standard errors\"})]}),`\n`,(0,e.jsxs)(s.span,{className:\"line\",children:[(0,e.jsx)(s.span,{style:{color:\"#575279\"},children:\"fixest\"}),(0,e.jsx)(s.span,{style:{color:\"#286983\"},children:\"::\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"coefplot\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\"(\"}),(0,e.jsx)(s.span,{style:{color:\"#575279\",fontStyle:\"italic\"},children:\"dynamic\"}),(0,e.jsx)(s.span,{style:{color:\"#797593\"},children:\")\"})]})]})})]}),`\n`,(0,e.jsx)(m,{src:\"/images/did2s.png\",alt:\"Two-stage Difference-in-Differences\"})]})}}var R=E;function r(a,l,n){throw new Error(\"Expected \"+(l?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(n?\"\\nIt\\u2019s referenced in your code at `\"+n+\"` in `/Users/kylebutts/Desktop/kylebutts/data/_mdx_bundler_entry_point-7650393a-7dbc-4f2b-bd71-1bb8993379bd.mdx`\":\"\"))}return x(A);})();\n;return Component;"},"_id":"papers/did2s.mdx","_raw":{"sourceFilePath":"papers/did2s.mdx","sourceFileName":"did2s.mdx","sourceFileDir":"papers","contentType":"mdx","flattenedPath":"papers/did2s"},"type":"Paper","slug":"did2s"}},"__N_SSG":true},"page":"/papers/[slug]","query":{"slug":"did2s"},"buildId":"p9bM533tbr1Rp48ycXbj8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>